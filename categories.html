<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Subject Details - Student Portal</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="app-container">
      <header class="category-header">
        <div class="back-button">
          <i class="fas fa-arrow-left"></i>
        </div>
        <h1 class="category-title">Mathematics</h1>
        <button class="toggle-view-btn" id="toggleView">
          <i class="fas fa-chart-line"></i>
        </button>
      </header>

      <main>
        <!-- Subject Content View -->
        <div id="subjectView" class="active-view view-container">
          <div class="progress-stats">
            <div class="stat-card">
              <h3>Total Progress</h3>
              <div class="stat-value">75%</div>
              <div class="progress-bar">
                <div class="progress" style="width: 75%"></div>
              </div>
            </div>
            <div class="stat-card">
              <h3>Assignments</h3>
              <div class="stat-value">12/15</div>
              <div class="progress-bar">
                <div class="progress" style="width: 80%"></div>
              </div>
            </div>
          </div>

          <div class="category-content">
            <section class="course-materials">
              <h3>Course Materials</h3>
              <div class="materials-grid">
                <div class="material-card">
                  <i class="fas fa-book"></i>
                  <span>Textbook</span>
                </div>
                <div class="material-card">
                  <i class="fas fa-video"></i>
                  <span>Lectures</span>
                </div>
                <div class="material-card">
                  <i class="fas fa-file-pdf"></i>
                  <span>Notes</span>
                </div>
                <div class="material-card">
                  <i class="fas fa-tasks"></i>
                  <span>Assignments</span>
                </div>
              </div>
            </section>

            <section class="subjects-container">
              <h3>Topics</h3>
              <div class="subject-card">
                <div class="subject-icon">
                  <i class="fas fa-square-root-alt"></i>
                </div>
                <div class="subject-info">
                  <h4>Algebra</h4>
                  <p>Linear Equations & Quadratics</p>
                  <div class="progress-info">
                    <div class="progress-bar">
                      <div class="progress" style="width: 85%"></div>
                    </div>
                    <span>85% Complete</span>
                  </div>
                </div>
              </div>

              <div class="subject-card">
                <div class="subject-icon">
                  <i class="fas fa-chart-line"></i>
                </div>
                <div class="subject-info">
                  <h4>Calculus</h4>
                  <p>Differentiation & Integration</p>
                  <div class="progress-info">
                    <div class="progress-bar">
                      <div class="progress" style="width: 65%"></div>
                    </div>
                    <span>65% Complete</span>
                  </div>
                </div>
              </div>

              <div class="subject-card">
                <div class="subject-icon">
                  <i class="fas fa-shapes"></i>
                </div>
                <div class="subject-info">
                  <h4>Geometry</h4>
                  <p>Triangles & Circles</p>
                  <div class="progress-info">
                    <div class="progress-bar">
                      <div class="progress" style="width: 90%"></div>
                    </div>
                    <span>90% Complete</span>
                  </div>
                </div>
              </div>

              <div class="subject-card">
                <div class="subject-icon">
                  <i class="fas fa-percentage"></i>
                </div>
                <div class="subject-info">
                  <h4>Statistics</h4>
                  <p>Probability & Data Analysis</p>
                  <div class="progress-info">
                    <div class="progress-bar">
                      <div class="progress" style="width: 70%"></div>
                    </div>
                    <span>70% Complete</span>
                  </div>
                </div>
              </div>
            </section>

            <section class="upcoming-tasks">
              <h3>Upcoming Tasks</h3>
              <div class="task-list">
                <div class="task-item">
                  <div class="task-date">Mar 25</div>
                  <div class="task-details">
                    <h4>Quiz: Algebra Basics</h4>
                    <p>Chapter 1-3 Review</p>
                  </div>
                  <div class="task-status pending">Pending</div>
                </div>
                <div class="task-item">
                  <div class="task-date">Mar 28</div>
                  <div class="task-details">
                    <h4>Assignment Due</h4>
                    <p>Problem Set #4</p>
                  </div>
                  <div class="task-status">In Progress</div>
                </div>
              </div>
            </section>
          </div>
        </div>

        <!-- Progress View -->
        <div id="progressView" class="hidden view-container">
          <div class="student-list-container">
            <h3>Students in <span class="subject-name"></span></h3>
            <div class="student-list">
              <!-- Student list will be populated here -->
            </div>
          </div>
          <div class="chart-container">
            <h3>Progress Over Time</h3>
            <div class="chart-header">
              <span class="selected-student">All Students</span>
              <button
                class="view-all-btn"
                onclick="window.showAllStudents()"
                style="display: none"
              >
                View All
              </button>
            </div>
            <canvas id="progressChart"></canvas>
          </div>
          <div class="chart-container">
            <h3>Score Distribution</h3>
            <canvas id="distributionChart"></canvas>
          </div>
        </div>
      </main>

      <nav class="bottom-nav">
        <div class="nav-item">
          <i class="fas fa-home"></i>
          <span>Home</span>
        </div>
        <div class="nav-item" onclick="window.location.href='schedule.html'">
          <i class="fas fa-calendar"></i>
          <span>Calendar</span>
        </div>
        <div class="nav-item">
          <i class="fas fa-chart-line"></i>
          <span>Progress</span>
        </div>
        <div class="nav-item">
          <i class="fas fa-book-open"></i>
          <span>Notes</span>
        </div>
        <div class="nav-item">
          <i class="fas fa-users"></i>
          <span>Students</span>
        </div>
        <div class="nav-item">
          <i class="fas fa-user"></i>
          <span>Profile</span>
        </div>
      </nav>
    </div>
    <script src="js/main.js"></script>
    <script src="js/progress.js"></script>
  </body>
</html>
